package naipes;

import java.util.Random;

public class Naipes implements INaipes
{

	private static final String[] PALOS = {"Oros", "Copas", "Espadas", "Bastos"};
	private static final String[] FIGURAS = {"As", "Dos", "Tres", "Cuatro", "Cinco", "Seis", "Siete", "Sota", "Caballo", "Rey"};

	private int[] naipes = new int[40];

	private int cont;


	public Naipes()
	{
		for (int i = 0; i < naipes.length; i++)
		{
			naipes[i] = i + 1;
		}
		cont = naipes.length;
	}


	@Override
	public String traducir(int numCarta)
	{
		if(numCarta < 1 || numCarta > 40)
		{
			return "";
		}

		numCarta--;

		return FIGURAS[numCarta % 10] + " de " + PALOS[numCarta / 10];
	}

	@Override
	public void barajar()
	{
		Random random = new Random();
		int aux;
		int j;
		for (int i = 0; i < cont; i++)
		{
			j = random.nextInt(cont);
			aux = naipes[i];
			naipes[i] = naipes[j];
			naipes[j] = aux;
		}
	}

	@Override
	public int extraerCartaAlAzar()
	{
		if(cont == 0)
		{
			return 0;
		}
		Random random = new Random();
		int iPosicion = random.nextInt(cont);
		int carta = naipes[iPosicion];
		for (int i = iPosicion; i < cont - 1; i++)
		{
			naipes[i] = naipes[i + 1];
		}
		cont--;
		return carta;
	}

	@Override
	public int extraerCartaArriba()
	{
		if(cont == 0)
		{
			return 0;
		}
		int carta = naipes[cont - 1];
		cont--;
		return carta;
	}

	@Override
	public int extraerCarta(int posicion)
	{
		// Si no hay cartas o la posición no es válida
		if(cont == 0 || posicion > cont)
		{
			return -1;
		}
		int carta = naipes[posicion];
		for (int i = posicion; i < cont - 1; i++)
		{
			naipes[i] = naipes[i + 1];
		}
		cont--;
		return carta;
	}

	@Override
	public boolean ponerCarta(int numCarta)
	{
		// TODO Auto-generated method stub
		return false;
	}

	@Override
	public int getNumCartas()
	{
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public void ordenar()
	{
		// TODO Auto-generated method stub

	}

}
